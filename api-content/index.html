{"posts":[{"title":"Mac下配置Go开发环境","content":"Go（又称 Golang）是 Google 开发的一种静态强类型、编译型、并发型，并具有垃圾回收功能的编程语言。Go 的语法接近 C 语言，可以进行网络编程、系统编程、并发编程、分布式编程。 下面演示如何在 Mac 电脑上搭建 Go 语言开发环境。 1，安装 Golang 的 SDK 在官网下载对应的开发工具GoLand,地址如下:https://golang.org/dl/ 2，配置环境变量 （1）在终端执行如下命令进入用户主目录： cd ~ （2）执行如下命令打开 .bash_profile 文件： vim .bash_profile （3）按下 i 进入编辑模式，在文件末尾添加如下内容（GOPATH地址是自己创建项目的地址，比如我的是在桌面的文件夹下创建的）： export GOPATH=/Users/yangchen/Desktop/ReactNatve/Go export GOBIN=$GOPATH/bin export PATH=$PATH:$GOBIN （4）按下 ESC 键，然后输入 :wq 保存并退出编辑。 （5）接着执行如下命令让配置生效。 source ~/.bash_profile 最后我们执行 go env 查看配置结果，可以看到 GO 的环境变量已成功配置了。 ","link":"https://shineyanggod.github.io/post/mac-xia-pei-zhi-go-kai-fa-huan-jing/"},{"title":"Swift  从子视图跳转到指定tabBar主界面","content":"从tabbar的子页面跳转到指定的tabbar主页面,话不多说直接上代码: self.navigationController?.tabBarController?.selectedIndex = 0 self.navigationController?.popViewController(animated: false) ","link":"https://shineyanggod.github.io/post/swift-cong-zi-shi-tu-tiao-zhuan-dao-zhi-ding-tabbar-zhu-jie-mian/"},{"title":"Swift UICollectionView横向分页滚动，cell左右排版","content":"废话不多说，直接上代码 自定义一个SYitemViewLayout，继承UICollectionViewFlowLayout mport UIKit //根据需求设置列跟行 let kEmotionCellNumberOfOneRow = 3 let kEmotionCellRow = 2 class SYitemViewLayout: UICollectionViewFlowLayout { // 保存所有item fileprivate var attributesArr: [UICollectionViewLayoutAttributes] = [] // MARK:- 重新布局 override func prepare() { super.prepare() let itemWH: CGFloat = (kScreenWitdh - 30) / CGFloat(kEmotionCellNumberOfOneRow) // 设置itemSize itemSize = CGSize(width: itemWH, height: itemWH - 50) minimumLineSpacing = 0 minimumInteritemSpacing = 0 scrollDirection = .horizontal // 设置collectionView属性 collectionView?.isPagingEnabled = true collectionView?.showsHorizontalScrollIndicator = false collectionView?.showsVerticalScrollIndicator = true // let insertMargin = (collectionView!.bounds.height - 3 * itemWH) * 0.5 // collectionView?.contentInset = UIEdgeInsets(top: 10, left: 10, bottom: 10, right: 10) var page = 0 let itemsCount = collectionView?.numberOfItems(inSection: 0) ?? 0 for itemIndex in 0..&lt;itemsCount { let indexPath = IndexPath(item: itemIndex, section: 0) let attributes = UICollectionViewLayoutAttributes(forCellWith: indexPath) page = itemIndex / (kEmotionCellNumberOfOneRow * kEmotionCellRow) // 通过一系列计算, 得到x, y值 let x = itemSize.width * CGFloat(itemIndex % Int(kEmotionCellNumberOfOneRow)) + (CGFloat(page) * (kScreenWitdh - 30)) let y = itemSize.height * CGFloat((itemIndex - page * kEmotionCellRow * kEmotionCellNumberOfOneRow) / kEmotionCellNumberOfOneRow) attributes.frame = CGRect(x: x, y: y, width: itemSize.width, height: itemSize.height) // 把每一个新的属性保存起来 attributesArr.append(attributes) } } override func layoutAttributesForElements(in rect: CGRect) -&gt; [UICollectionViewLayoutAttributes]? { var rectAttributes: [UICollectionViewLayoutAttributes] = [] _ = attributesArr.map({ if rect.contains($0.frame) { rectAttributes.append($0) } }) return rectAttributes } } ","link":"https://shineyanggod.github.io/post/swift-uicollectionview-heng-xiang-fen-ye-gun-dong-cell-zuo-you-pai-ban/"},{"title":"Swift框架-章：1、开发一个Swift框架","content":"Swift已成为一种流行的编程语言，并且每天都在发展。 开发Swift框架具有以下优点。 隐藏您的代码实现。 由于.framework文件已经编译，因此将减少重新编译并节省开发时间。 这就是苹果公司使用的，例如：UIKit.framework。 那么，您在寻找什么？让我们现在开始开发自己的Swift框架。 开发Swift框架具有以下优点。 1、隐藏您的代码实现。 2、由于.framework文件已经编译，因此将减少重新编译并节省开发时间。 这就是苹果公司使用的，例如：UIKit.framework。 那么，您在寻找什么？让我们现在开始开发自己的Swift框架。 使用的工具：XCode 11.6 +，Swift 5.1+ 步骤1：-安装框架项目 1、创建新的XCode项目。 #####2、 创建框架 为您的项目命名，我们使用了类似于Alamofire的AlamoWater名字。 （请确保选择语言-Swift） 单击目标内的AlamoWater文件夹，然后按⌘+N。 ######选择文件名AlamoWater和以下子类：NSObject 在AlameWater.swift中添加以下代码**。** **注意：-**确保您的类和方法设置为Public import UIKit public protocol AlamoWaterProtocol { func didCallHello() } open class AlamoWater: NSObject { public static let shared = AlamoWater() public var delegate:AlamoWaterProtocol? open func hello(){ debugPrint(&quot;Hello from AlamoWater!&quot;) AlamoWater.shared.delegate?.didCallHello() } } 要为iOS设备和模拟器创建框架，请向您的项目添加新的Aggregate目标。 并添加[运行脚本] #!/bin/sh UNIVERSAL_OUTPUTFOLDER=${BUILD_DIR}/${CONFIGURATION}-universal # make sure the output directory exists mkdir -p &quot;${UNIVERSAL_OUTPUTFOLDER}&quot; # Step 1. Build Device and Simulator versions xcodebuild -target &quot;AlamoWater&quot; ONLY_ACTIVE_ARCH=NO -configuration ${CONFIGURATION} -sdk iphoneos BUILD_DIR=&quot;${BUILD_DIR}&quot; BUILD_ROOT=&quot;${BUILD_ROOT}&quot; clean build xcodebuild -target &quot;AlamoWater&quot; -configuration ${CONFIGURATION} -sdk iphonesimulator ONLY_ACTIVE_ARCH=NO BUILD_DIR=&quot;${BUILD_DIR}&quot; BUILD_ROOT=&quot;${BUILD_ROOT}&quot; clean build # Step 2. Copy the framework structure (from iphoneos build) to the universal folder cp -R &quot;${BUILD_DIR}/${CONFIGURATION}-iphoneos/AlamoWater.framework&quot; &quot;${UNIVERSAL_OUTPUTFOLDER}/&quot; # Step 3. Copy Swift modules from iphonesimulator build (if it exists) to the copied framework directory SIMULATOR_SWIFT_MODULES_DIR=&quot;${BUILD_DIR}/${CONFIGURATION}-iphonesimulator/AlamoWater.framework/Modules/AlamoWater.swiftmodule/.&quot; if [ -d &quot;${SIMULATOR_SWIFT_MODULES_DIR}&quot; ]; then cp -R &quot;${SIMULATOR_SWIFT_MODULES_DIR}&quot; &quot;${UNIVERSAL_OUTPUTFOLDER}/AlamoWater.framework/Modules/AlamoWater.swiftmodule&quot; fi # Step 4. Create universal binary file using lipo and place the combined executable in the copied framework directory lipo -create -output &quot;${UNIVERSAL_OUTPUTFOLDER}/AlamoWater.framework/AlamoWater&quot; &quot;${BUILD_DIR}/${CONFIGURATION}-iphonesimulator/AlamoWater.framework/AlamoWater&quot; &quot;${BUILD_DIR}/${CONFIGURATION}-iphoneos/AlamoWater.framework/AlamoWater&quot; # Step 5. Convenience step to copy the framework to the project's directory cp -R &quot;${UNIVERSAL_OUTPUTFOLDER}/AlamoWater.framework&quot; &quot;${PROJECT_DIR}&quot; # Step 6. Convenience step to open the project's directory in Finder open &quot;${PROJECT_DIR}&quot; 注意：AlamoWater改为自己项目的名字 通过按⌘+ B选择UniversalAlamoWater目标来构建您的第一个框架 构建完成后，您将看到Finder与其中的Framework一起打开。 注意：-如果出现以下错误， … Reason: image not found 确保在嵌入式二进制文件和链接的框架和库中都添加了框架 ","link":"https://shineyanggod.github.io/post/swift-kuang-jia-zhang-1kai-fa-yi-ge-swift-kuang-jia/"},{"title":"Go实战项目【一】Golang和Gin框架的安装和使用","content":"Golang的安装 根据所使用的电脑操作系统，下载相对应的版本Golang 下载 比如我的电脑是macOS系统，下载的是 安装完毕后配置路径 打开终端，执行: vi ~/.bash_profile .bash_profile 添加的内容如下： #Go export GOROOT=/usr/local/go export PATH=$PATH:$GOROOT/bin 然后执行 source ~/.bash_profile 让配置生效 执行 go version 查看Golang是否安装成功，出现以下信息即为安装成功 初始化项目目录 选一个你自己喜欢的路径，创建一个文件夹，比如我的是/Users/newmac/Documents/Go-app这个文件夹下 cd /Users/newmac/Documents/Go-app mkdir api &amp;&amp; cd api go env -w GO111MODULE=on go env -w GOPROXY=https://goproxy.cn,direct go mod init api mkdir api &amp;&amp; cd api：创建并进入api文件夹 go env -w GO111MODULE=on：开启Go modules go env -w GOPROXY=https://goproxy.cn,direct：设置 GOPROXY 代理，也可以把GOPROXY写入.bash_profile中 go mod init [MODULE_PATH]：初始化 Go modules，它将会生成 go.mod 文件，MODULE_PATH 填写的是模块引入路径，如果想要把项目放到Github上，可以填写GitHub的项目路径，这个根据自己情况填写。 然后就会在api文件夹下出现go.mod文件 安装Gin框架 在api文件夹下，执行 go get -u github.com/gin-gonic/gin 安装完毕后，创建一个test.go文件，测试下Gin框架是否能使用test.go 我用的是GoLang开发工具，可以直接在编译器里面执行 如果用的是VS code，可以在终端运行:go run test.go 在浏览器打开127.0.0.1:8080/ping这个地址，可以看到有返回的数据，代表Gin框架安装和使用成功。 Go相关学习知识 ","link":"https://shineyanggod.github.io/post/go-shi-zhan-xiang-mu-yi-golang-he-gin-kuang-jia-de-an-zhuang-he-shi-yong/"},{"title":"清理Xcode占用的Mac硬盘空间","content":"主要是操作两个目录下的文件 ~/Library/Developer/Xcode 和 ~/Library/Developer/CoreSimulator ~/Library/Developer/Xcode 1、DerivedData 此文件夹内的每个目录是Xcode运行每个APP时生成的缓存文件，删除之后再运行APP会重新生成该APP对应的文件，只是编译时间变长了。 可保留近期运行的APP相关的文件夹，对于以前运行过近期不再使用的APP，例如网上下载的demo，建议清理。 Archives 此文件夹中的内容对应Xcode-&gt;Window-&gt;Organizer-&gt;Archives中列出的打包文件。 可保留有用的打包文件，其它删除。 iOS DeviceSupport 此文件夹存放的是Xcode对你所连接真机的版本支持，每个文件夹几乎都是几个G的大小（我个人的情况是11个目录占了26G空间），手机每升级一个版本，再次连接Xcode时，这里都会生成一个目录。 建议保留你手机当前版本的文件夹。全部删除也没关系，手机再次连接Xcode时会重新生成。 2. ~/Library/Developer/CoreSimulator Devices 此文件夹下的目录是以模拟器的UDID命名的，运行模拟器时每安装一个新的APP，相应的文件夹内容也会增大，就像手机上安装应用会占用手机空间一样。 可删除全部文件夹。再次运行模拟器，会重新生成。 删除后开启Xcode运行模拟器，可能会出现下面的错误，不要惊慌，重启Xcode就好了。 建议在退出Xcode后进行清理，清理后重启电脑 ","link":"https://shineyanggod.github.io/post/qing-li-xcode-zhan-yong-de-mac-ying-pan-kong-jian/"},{"title":"iOS 13：Swift以编程方式设置应用程序根视图控制器不起作用","content":"在iOS以后直接使用window?.makeKeyAndVisible()是不起作用的，正确用法是: static func redirectToMainNavRVC(currentVC: UIViewController){ let appDelegate = UIApplication.shared.delegate as! AppDelegate let vc = UIStoryboard(name: appDelegate.storyBoardName, bundle: nil).instantiateViewController(withIdentifier: &quot;MainNavigationViewController&quot;) as! MainNavigationViewController if #available(iOS 13.0, *){ if let scene = UIApplication.shared.connectedScenes.first{ guard let windowScene = (scene as? UIWindowScene) else { return } print(&quot;&gt;&gt;&gt; windowScene: \\(windowScene)&quot;) let window: UIWindow = UIWindow(frame: windowScene.coordinateSpace.bounds) window.windowScene = windowScene //Make sure to do this window.rootViewController = vc window.makeKeyAndVisible() appDelegate.window = window } } else { appDelegate.window?.rootViewController = vc appDelegate.window?.makeKeyAndVisible() } } ","link":"https://shineyanggod.github.io/post/ios-13swift-yi-bian-cheng-fang-shi-she-zhi-ying-yong-cheng-xu-gen-shi-tu-kong-zhi-qi-bu-qi-zuo-yong/"}]}