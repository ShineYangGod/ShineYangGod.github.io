<html>
<head>
    <meta charset="utf-8"/>
<meta name="description" content=""/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>

<title>æ„å»ºæ›´å¥½çš„iOS AppåŠ¨ç”» | ShineYang</title>

<link rel="shortcut icon" href="https://shineyangpro.com/favicon.ico?v=1603421554546">

<link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://shineyangpro.com/styles/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css">

<script src="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/dockerfile.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/dart.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/moment@2.27.0/moment.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.min.js"></script>
<!-- DEMO JS -->
<!--<script src="media/scripts/index.js"></script>-->



    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.css">
</head>
<body>
<div class="main gt-bg-theme-color-first">
    <nav class="navbar navbar-expand-lg">
    <div class="navbar-brand">
        <img class="user-avatar" src="/images/avatar.png" alt="å¤´åƒ">
        <div class="site-name gt-c-content-color-first">
            ShineYang
        </div>
    </div>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <i class="fas fa-bars gt-c-content-color-first" style="font-size: 18px"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <div class="navbar-nav mr-auto" style="text-align: center">
            
                <div class="nav-item">
                    
                        <a href="/" class="menu gt-a-link">
                            é¦–é¡µ
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="/archives" class="menu gt-a-link">
                            å½’æ¡£
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="/tags" class="menu gt-a-link">
                            æ ‡ç­¾
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="/about" class="menu gt-a-link">
                            å…³äº
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="/friends" class="menu gt-a-link">
                            å‹é“¾
                        </a>
                    
                </div>
            
        </div>
        <div style="text-align: center">
            <form id="gridea-search-form" style="position: relative" data-update="1603421554546" action="/search/index.html">
                <input class="search-input" autocomplete="off" spellcheck="false" name="q" placeholder="æœç´¢æ–‡ç« " />
                <i class="fas fa-search gt-c-content-color-first" style="position: absolute; top: 9px; left: 10px;"></i>
            </form>
        </div>
    </div>
</nav>

    <div class="post-container">
        <div class="post-detail gt-bg-theme-color-second">
            <article class="gt-post-content">
                <h2 class="post-title">
                    æ„å»ºæ›´å¥½çš„iOS AppåŠ¨ç”»
                </h2>
                <div class="post-info">
                    <time class="post-time gt-c-content-color-first">
                        Â· 2020-10-22 Â·
                    </time>
                    
                        <a href="https://shineyangpro.com/RGlMWjcck/" class="post-tags">
                            # IOS
                        </a>
                    
                        <a href="https://shineyangpro.com/3U6sZPuRZ/" class="post-tags">
                            # Swift
                        </a>
                    
                </div>
                <div class="post-content">
                    <p><img src="https://shineyangpro.com/post-images/1603327762096.gif" alt="" loading="lazy"><br>
åŠ¨ç”»æ˜¯é«˜è´¨é‡ç”¨æˆ·ä½“éªŒçš„å…³é”®ã€‚å®ƒä»¬å…·æœ‰å¤šç§ç”¨é€”ï¼ŒåŒ…æ‹¬å¼•å¯¼ç”¨æˆ·çš„æ³¨æ„åŠ›å¹¶å°†ç”¨æˆ·çš„æ“ä½œä¸å±å¹•ä¸Šçš„ç»“æœè”ç³»èµ·æ¥ã€‚</p>
<p>åŠ¨ç”»ä½¿æ‚¨çš„åº”ç”¨ç¨‹åºä½“éªŒç‹¬å…·ç‰¹è‰²-å®ƒä»¬å¯ä»¥ä½¿å…¶ä»–åª’ä½“æ— æ³•å®ç°çš„å“åº”æ€§å’Œäº¤äº’æ€§è¾¾åˆ°ä¸€å®šæ°´å¹³ã€‚ä¸ºäº†åˆ¶ä½œæ›´å¥½çš„åŠ¨ç”»ï¼Œä»–ä»¬éœ€è¦ä¼ è¾¾ä¸€ç§æ›´å¥½çš„ç”¨æˆ·äº¤äº’å’Œè§†è§‰å˜åŒ–ä¹‹é—´çš„ç›´æ¥è”ç³»æ„Ÿã€‚å®ç°æ­¤ç›®çš„çš„ä¸€ç§æ–¹æ³•æ˜¯ä½¿åŠ¨ç”»å®Œå…¨äº’åŠ¨ã€‚</p>
<h3 id="ä¸ºä»€ä¹ˆè¦åˆ›å»ºäº’åŠ¨åŠ¨ç”»">ä¸ºä»€ä¹ˆè¦åˆ›å»ºäº’åŠ¨åŠ¨ç”»ï¼Ÿ</h3>
<p>è‡ªä»iPhoneæ¨å‡ºä»¥æ¥ï¼Œäº’åŠ¨åŠ¨ç”»å°±å·²ç»å‡ºç°ã€‚ä¸–ç•Œä¸Šé¦–æ¬¡çœ‹åˆ°åŸå§‹iPhoneçš„æ˜¯ç»å…¸çš„â€œæ»‘åŠ¨è§£é”â€å±å¹•ï¼Œç”¨æˆ·å¯ä»¥åœ¨å…¶ä¸­ç›´æ¥ç§»åŠ¨æ»‘å—ä»¥è§£é”è®¾å¤‡ã€‚å¯¹äºä»¥å‰ä»æœªä½¿ç”¨è¿‡å¤šç‚¹è§¦æ‘¸è®¾å¤‡çš„ç”¨æˆ·è€Œè¨€ï¼Œæ­¤äº¤äº’å¼åŠ¨ç”»ç«‹å³ç›´è§‚ã€‚</p>
<p>äº¤äº’å¼åŠ¨ç”»ä½¿ç”¨æˆ·å¯ä»¥æ›´å¥½åœ°æ§åˆ¶ç”¨æˆ·ç•Œé¢ã€‚ç›´æ¥æ“çºµæ˜¯è‡ªç„¶çš„äº¤äº’æ¨¡å‹ï¼Œå°¤å…¶æ˜¯åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šã€‚å®ƒå°†ä»–ä»¬çš„åŠ¨ä½œè¿æ¥åˆ°å±å¹•ä¸Šçš„åŠ¨ç”»ï¼Œå¹¶è®©ä»–ä»¬å®Œå…¨æ§åˆ¶å…¶åŠ¨ä½œçš„å®Œæˆæˆ–å–æ¶ˆã€‚</p>
<p>ä»–ä»¬çœ‹èµ·æ¥ä¹Ÿå¾ˆæ£’ã€‚ç”¨æˆ·é€šå¸¸å°†åº”ç”¨ç¨‹åºçš„å¤–è§‚ä¸åº”ç”¨ç¨‹åºçš„æ€§èƒ½ç›¸å…³è”ï¼Œå› æ­¤ï¼Œå¦‚æœåº”ç”¨ç¨‹åºçœ‹èµ·æ¥ä¸é”™ï¼Œåˆ™ä»–ä»¬æ›´æœ‰å¯èƒ½åŸè°…å…¶ä»–ç¼ºç‚¹ã€‚</p>
<p>åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨æ¥åœ¨Swiftä¸­æ„å»ºä¸€ä¸ªäº¤äº’å¼å¼¹å‡ºåŠ¨ç”»UIViewPropertyAnimatorã€‚</p>
<h3 id="uiviewpropertyanimatorç®€ä»‹">UIViewPropertyAnimatorç®€ä»‹</h3>
<p>UIViewPropertyAnimator å·²åœ¨iOS 10ä¸­æ·»åŠ åˆ°UIKitï¼Œå¹¶åœ¨iOS 11ä¸­è¿›è¡Œäº†ä¸€äº›æ”¹è¿›ã€‚å®ƒæä¾›äº†UIViewçº§åˆ«çš„é¢å‘å¯¹è±¡çš„APIæ¥åˆ›å»ºåŠ¨ç”»ã€‚<br>
<img src="https://shineyangpro.com/post-images/1603327786066.gif" alt="" loading="lazy"></p>
<p>ä½¿ç”¨ä¼ ç»ŸUIViewåŠ¨ç”»ï¼Œæ‚¨å¯ä»¥ç¼–å†™å¦‚ä¸‹å†…å®¹ï¼š</p>
<pre><code>UIView.animate(withDuration: 1, delay: 0, options: [.curveEaseOut], animations: {
    self.myView.transform = CGAffineTransform(translationX: 50, y: 0)
    self.myView.alpha = 0.5
}, completion: nil)
</code></pre>
<p>ä½¿ç”¨new UIViewPropertyAnimatorï¼Œæ‚¨å¯ä»¥ç¼–å†™ä»¥ä¸‹ä»£ç ï¼š</p>
<pre><code>let animator = UIViewPropertyAnimator(duration: 1, curve: .easeOut, animations: {
    self.myView.transform = CGAffineTransform(translationX: 50, y: 0)
    self.myView.alpha = 0.5
})
animator.startAnimations()
</code></pre>
<p>ä»£ç éå¸¸ç›¸ä¼¼ã€‚ä½¿ç”¨UIViewPropertyAnimatorï¼Œæ‚¨é¦–å…ˆåˆ›å»ºä¸€ä¸ªåŠ¨ç”»è®¾è®¡å™¨å¯¹è±¡ï¼Œç„¶åè°ƒç”¨startAnimation()è€Œä¸æ˜¯åœ¨UIViewç±»ä¸Šè°ƒç”¨é™æ€æ–¹æ³•ã€‚</p>
<p>éšç€åŠ¨ç”»å¤æ‚æ€§çš„å¢åŠ ï¼ŒUIViewPropertyAnimatorå˜å¾—æ›´åŠ æœ‰ç”¨ã€‚è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªæ›´å¤æ‚çš„åŠ¨ç”»ã€‚<br>
<img src="https://shineyangpro.com/post-images/1603327838975.gif" alt="" loading="lazy"><br>
è¯¥åŠ¨ç”»åœ¨å¹³ç§»è§†å›¾æ—¶å¼€å§‹ï¼Œå¯ä»¥åœ¨ä»»ä¸€æ–¹å‘ä¸Šè¿›è¡Œæ“¦æ´—ï¼Œå¹¶ä¸”åœ¨å¹³ç§»å®Œæˆåä¼šåŠ¨ç”»åˆ°å…¶æœ€ç»ˆä½ç½®ã€‚</p>
<p>åœ¨æŸ¥çœ‹ä»£ç ä¹‹å‰ï¼Œäº†è§£çŠ¶æ€æœºæ”¯æŒå¾ˆé‡è¦UIViewPropertyAnimatorã€‚<br>
<img src="https://shineyangpro.com/post-images/1603327859680.png" alt="" loading="lazy"></p>
<p>åŠ¨ç”»å¸ˆå¯ä»¥å¤„äºä¸‰ç§å¯èƒ½çš„çŠ¶æ€ä¹‹ä¸€ï¼šä¸æ´»åŠ¨ï¼Œæ´»åŠ¨å’Œåœæ­¢ã€‚åŠ¨ç”»å™¨åˆå§‹åŒ–ä¸ºéæ´»åŠ¨çŠ¶æ€ï¼Œä½†åœ¨å¯åŠ¨æˆ–æš‚åœæ—¶ä¼šç§»åŠ¨åˆ°æ´»åŠ¨çŠ¶æ€ã€‚åŠ¨ç”»å®Œæˆåï¼Œå®ƒå°†è¿”å›åˆ°éæ´»åŠ¨çŠ¶æ€ã€‚å¦‚æœåŠ¨ç”»å·²å¼€å§‹ä¸”å·²æš‚åœï¼Œåˆ™åŠ¨ç”»å°†ä¿æŒæ´»åŠ¨çŠ¶æ€ï¼Œå¹¶ä¸”ä¸ä¼šè¿›è¡ŒçŠ¶æ€è½¬æ¢ã€‚</p>
<p>è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•ä½¿ç”¨UIPanGestureRecognizeræ—è¾¹çš„UIViewPropertyAnimatoræ¥åˆ›å»ºä¸Šé¢çš„åŠ¨ç”»ã€‚</p>
<pre><code>var animator = UIViewPropertyAnimator()
 
private func handlePan(recognizer: UIPanGestureRecognizer) {
    switch recognizer.state {
    case .began:
            animator = UIViewPropertyAnimator(duration: 3, curve: .easeOut, animations: {
            myView.transform = CGAffineTransform(translationX: 275, y: 0)
            myView.alpha = 0
        })
        animator.startAnimation()
        animator.pauseAnimation()
    case .changed:
        animator.fractionComplete = recognizer.translation(in: myView).x / 275
    case .ended:
        animator.continueAnimation(withTimingParameters: nil, durationFactor: 0)
    default:
        ()
    }
}
</code></pre>
<p>è¯·æ³¨æ„ï¼ŒpauseAnimation()åœ¨ä¹‹åç«‹å³è°ƒç”¨startAnimation()ã€‚å› ä¸ºæˆ‘ä»¬çš„åŠ¨ç”»æ˜¯ä»å¹³ç§»æ‰‹åŠ¿å¼€å§‹çš„ï¼Œæ‰€ä»¥ç”¨æˆ·æœ€æœ‰å¯èƒ½å…ˆæ¾å¼€åŠ¨ç”»ï¼Œç„¶åå†é‡Šæ”¾å…¶ç‚¹å‡»ã€‚åŠ¨ç”»æš‚åœæ—¶ï¼Œè®¾ç½®fractionCompleteå±æ€§ä»¥å°†è§†å›¾ä¸ç”¨æˆ·çš„è§¦æ‘¸ä¸€èµ·ç§»åŠ¨ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬å°è¯•ä½¿ç”¨æ ‡å‡†UIViewåŠ¨ç”»æ‰§è¡Œæ­¤æ“ä½œï¼Œåˆ™å°†éœ€è¦æ¯”ä¸Šé¢ç¤ºä¾‹ä¸­åˆ—å‡ºçš„é€»è¾‘æ›´å¤šçš„é€»è¾‘ã€‚UIViewåŠ¨ç”»æ— æ³•æä¾›ç›´æ¥æ§åˆ¶åŠ¨ç”»å®Œæˆç™¾åˆ†æ¯”çš„ç®€ä¾¿æ–¹æ³•ï¼Œä¹Ÿæ— æ³•è®©æˆ‘ä»¬è½»æ¾åœ°æš‚åœå¹¶ç»§ç»­åŠ¨ç”»ç›´åˆ°å®Œæˆã€‚</p>
<h3 id="è®©æˆ‘ä»¬å»ºç«‹ä¸€ä¸ªå¼¹å‡ºèœå•">è®©æˆ‘ä»¬å»ºç«‹ä¸€ä¸ªå¼¹å‡ºèœå•ï¼</h3>
<p>æˆ‘ä»¬å°†åˆ†åæ­¥æ„å»ºä¸€ä¸ªå®Œå…¨äº¤äº’å¼ï¼Œå¯ä¸­æ–­ï¼Œå¯æ“¦é™¤å’Œå¯é€†çš„å¼¹å‡ºèœå•ã€‚ï¼ˆå¦‚æœæ‚¨å¸Œæœ›ä»æœ€ç»ˆä»£ç å¼€å§‹è¿›è¡Œåå‘æ“ä½œï¼Œåˆ™å¯ä»¥åœ¨æœ¬æ–‡æœ«å°¾æ‰¾åˆ°æŒ‡å‘æœ€ç»ˆå­˜å‚¨åº“çš„é“¾æ¥ã€‚ï¼‰</p>
<p>ä¸ºäº†ç®€å•èµ·è§ï¼Œæ‰€æœ‰è§†å›¾éƒ½å°†åœ¨ä»£ç ä¸­åˆ›å»ºå’Œä¿®æ”¹ï¼ˆè€Œä¸æ˜¯åœ¨æ•…äº‹æ¿ä¸­ï¼Œå°½ç®¡æ­¤ä»£ç ä¸åœ¨æ•…äº‹æ¿ä¸Šåˆ›å»ºçš„è§†å›¾åŒæ ·é€‚ç”¨ï¼‰ã€‚åŒæ ·ï¼Œæ‰€æœ‰ä»£ç éƒ½å°†æ”¾ç½®åœ¨ViewController.swiftæ–‡ä»¶ä¸­ã€‚</p>
<h4 id="æ­¥éª¤1ç‚¹å‡»ä»¥æ‰“å¼€å’Œå…³é—­">æ­¥éª¤ï¼ƒ1ï¼šç‚¹å‡»ä»¥æ‰“å¼€å’Œå…³é—­ã€‚</h4>
<p>é¦–å…ˆï¼Œè®©æˆ‘ä»¬çš„å¼¹å‡ºè§†å›¾åœ¨æ‰“å¼€çŠ¶æ€å’Œå…³é—­çŠ¶æ€ä¹‹é—´è¿›è¡ŒåŠ¨ç”»å¤„ç†ã€‚è¿™é‡Œæ²¡æœ‰èŠ±å“¨çš„æŠ€å·§ï¼Œåªæ˜¯UIViewPropertyAnimatoræˆ‘ä»¬ä¹‹å‰å­¦ä¹ çš„åŸºç¡€çŸ¥è¯†ã€‚</p>
<pre><code>private enum State {
    case closed
    case open
}
 
extension State {
    var opposite: State {
        switch self {
        case .open: return .closed
        case .closed: return .open
        }
    }
}
 
class ViewController: UIViewController {
 
    private lazy var popupView: UIView = {
        let view = UIView()
        view.backgroundColor = .gray
        return view
    }()
 
    override func viewDidLoad() {
        super.viewDidLoad()
        layout()
        popupView.addGestureRecognizer(tapRecognizer)
    }
 
    private var bottomConstraint = NSLayoutConstraint()
 
    private func layout() {
        popupView.translatesAutoresizingMaskIntoConstraints = false
        view.addSubview(popupView)
        popupView.leadingAnchor.constraint(equalTo: view.leadingAnchor).isActive = true
        popupView.trailingAnchor.constraint(equalTo: view.trailingAnchor).isActive = true
        bottomConstraint = popupView.bottomAnchor.constraint(equalTo: view.bottomAnchor, constant: 440)
        bottomConstraint.isActive = true
        popupView.heightAnchor.constraint(equalToConstant: 500).isActive = true
    }
 
    private var currentState: State = .closed
 
    private lazy var tapRecognizer: UITapGestureRecognizer = {
        let recognizer = UITapGestureRecognizer()
        recognizer.addTarget(self, action: #selector(popupViewTapped(recognizer:)))
        return recognizer
    }()
 
    @objc private func popupViewTapped(recognizer: UITapGestureRecognizer) {
        let state = currentState.opposite
        let transitionAnimator = UIViewPropertyAnimator(duration: 1, dampingRatio: 1, animations: {
            switch state {
            case .open:
                self.bottomConstraint.constant = 0
            case .closed:
                self.bottomConstraint.constant = 440
            }
            self.view.layoutIfNeeded()
        })
        transitionAnimator.addCompletion { position in
            switch position {
            case .start:
                self.currentState = state.opposite
            case .end:
                self.currentState = state
            case .current:
                ()
            }
            switch self.currentState {
            case .open:
                self.bottomConstraint.constant = 0
            case .closed:
                self.bottomConstraint.constant = 440
            }
        }
        transitionAnimator.startAnimation()
    }
 
}
</code></pre>
<p>popupViewTappedå‡½æ•°ä¸­æœ‰ç›¸å…³çš„åŠ¨ç”»ä»£ç ï¼Œåœ¨ç‚¹å‡»è§†å›¾æ—¶ä¼šè°ƒç”¨è¯¥åŠ¨ç”»ã€‚æˆ‘ä»¬åªéœ€åˆ›å»ºä¸€ä¸ªåŠ¨ç”»å¸ˆï¼Œè®¾ç½®å…¶åŠ¨ç”»ä»¥ä¿®æ”¹çº¦æŸçš„å€¼ï¼Œç„¶åå¯åŠ¨åŠ¨ç”»å¸ˆã€‚</p>
<p>æˆ‘ä»¬å¼•å…¥ä¸€ä¸ªStateæšä¸¾æ¥æŒ‡ç¤ºå¼¹å‡ºçª—å£æ˜¯æ‰“å¼€è¿˜æ˜¯å…³é—­ã€‚å®ƒè¿˜å…·æœ‰è®¡ç®—oppositeå±æ€§ï¼Œè¯¥å±æ€§è¿”å›ä¸å½“å‰çŠ¶æ€ç›¸åçš„çŠ¶æ€ã€‚æˆ‘ä»¬æœ¬æ¥å¯ä»¥ç”¨å¸ƒå°”æ ‡å¿—æ¥å®ç°ï¼Œä½†è¿™æ›´å®¹æ˜“æ¨è®ºï¼Œå°¤å…¶æ˜¯å½“æˆ‘ä»¬çš„åŠ¨ç”»ä»£ç å˜å¾—æ›´åŠ å¤æ‚æ—¶ã€‚</p>
<p>éœ€è¦æŒ‡å‡ºçš„ä¸€ä»¶äº‹-å½“åŠ¨ç”»å®Œæˆæ—¶ï¼Œæˆ‘ä»¬æ­£åœ¨æ‰‹åŠ¨æ›´æ–°çº¦æŸçš„å€¼ã€‚è¿™åº”è¯¥ç”±åŠ¨ç”»å¸ˆè‡ªåŠ¨å¤„ç†ï¼Œä½†æ˜¯æ˜¾å¼è®¾ç½®å®ƒä»¬å¯ä»¥ä¿®å¤ä¸€äº›è¾¹ç¼˜é”™è¯¯ã€‚<br>
<img src="https://shineyangpro.com/post-images/1603327970430.gif" alt="" loading="lazy"></p>
<h4 id="æ­¥éª¤2æ·»åŠ å¹³ç§»æ‰‹åŠ¿">æ­¥éª¤2ï¼šæ·»åŠ å¹³ç§»æ‰‹åŠ¿ã€‚</h4>
<p>ä¸ºäº†ä½¿åŠ¨ç”»å…·æœ‰äº¤äº’æ€§ï¼Œæˆ‘ä»¬å°†å¼•å…¥ç¬¬äºŒä¸ªæ‰‹åŠ¿è¯†åˆ«å™¨ï¼Œå³å¹³ç§»æ‰‹åŠ¿è¯†åˆ«å™¨ã€‚è¿™å°†å…è®¸ç”¨æˆ·é€šè¿‡åœ¨å¼¹å‡ºè§†å›¾ä¸Šæ»‘åŠ¨æ¥å¼€å§‹å’Œä¸­æ–­åŠ¨ç”»ã€‚</p>
<pre><code>@objc private func popupViewPanned(recognizer: UIPanGestureRecognizer) {
    switch recognizer.state {
    case .began:
        animateTransitionIfNeeded(to: currentState.opposite, duration: 1.5)
        transitionAnimator.pauseAnimation()
    case .changed:
        let translation = recognizer.translation(in: popupView)
        var fraction = -translation.y / popupOffset
        if currentState == .open { fraction *= -1 }
        transitionAnimator.fractionComplete = fraction
    case .ended:
        transitionAnimator.continueAnimation(withTimingParameters: nil, durationFactor: 0)
    default:
        ()
    }
}
</code></pre>
<p>è¯¥ä»£ç ä¸å‰é¢çš„ç¤ºä¾‹éå¸¸ç›¸ä¼¼ï¼Œä¸åŒä¹‹å¤„åœ¨äºå¯ä»¥ä¸­æ–­åŠ¨ç”»ã€‚æˆ‘ä»¬å·²ç»å°†åŠ¨ç”»ä»£ç é‡æ„ä¸ºä¸€ä¸ªåä¸ºçš„å‡½æ•°animateTransitionIfNeededï¼Œè¯¥å‡½æ•°å¯ä»¥è¿è¡Œè¯¥popupViewTappedå‡½æ•°å†…éƒ¨ä»¥å‰çš„æ‰€æœ‰ä»£ç ã€‚<br>
<img src="https://shineyangpro.com/post-images/1603328046538.gif" alt="" loading="lazy"></p>
<h4 id="æ­¥éª¤3è®°å½•åŠ¨ç”»è¿›åº¦ä»¥ä¿®å¤ä¸­æ–­åç§»">æ­¥éª¤ï¼ƒ3ï¼šè®°å½•åŠ¨ç”»è¿›åº¦ä»¥ä¿®å¤ä¸­æ–­åç§»ã€‚</h4>
<p>ä¸€ä¸ªé—®é¢˜ï¼šå½“åŠ¨ç”»è¢«ä¸­æ–­æ—¶ï¼Œå®ƒä¼šåç¦»ç”¨æˆ·çš„è§¦æ‘¸ã€‚è¿™æ˜¯ç”±äºå¹³ç§»å¤„ç†ç¨‹åºæœªè€ƒè™‘åŠ¨ç”»çš„å½“å‰è¿›åº¦ã€‚è¦è§£å†³æ­¤é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦è®°å½•fractionCompleteåŠ¨ç”»å¸ˆçš„ï¼Œå¹¶åœ¨è®¡ç®—å¹³ç§»åç§»æ—¶å°†å…¶ç”¨ä½œåŸºçº¿ã€‚</p>
<p>æˆ‘ä»¬å°†éœ€è¦ä¸€ä¸ªå±æ€§æ¥å­˜å‚¨åŠ¨ç”»çš„å½“å‰è¿›åº¦ï¼š</p>
<pre><code>private var animationProgress: CGFloat = 0
</code></pre>
<p>å½“å¹³ç§»æ‰‹åŠ¿å¤„äºå…¶begançŠ¶æ€æ—¶ï¼Œæˆ‘ä»¬è®°å½•åŠ¨ç”»çš„å½“å‰è¿›åº¦ï¼š</p>
<pre><code>animationProgress = transitionAnimator.fractionComplete
</code></pre>
<p>åœ¨å¹³ç§»æ‰‹åŠ¿çš„changedçŠ¶æ€ä¸‹ï¼Œæˆ‘ä»¬å°†åŠ¨ç”»è¿›åº¦æ·»åŠ åˆ°è®¡ç®—çš„åˆ†æ•°ä¸­ï¼š</p>
<pre><code>transitionAnimator.fractionComplete = fraction + animationProgress
</code></pre>
<p>ç°åœ¨ï¼Œå¹³ç§»æ‰‹åŠ¿å¯ä»¥æŒ‰é¢„æœŸå·¥ä½œï¼Œå¹¶ä¸”å¯ä»¥æ›´è‡ªç„¶åœ°è·Ÿè¸ªç”¨æˆ·çš„æ‰‹æŒ‡ã€‚<br>
<img src="https://shineyangpro.com/post-images/1603328143933.gif" alt="" loading="lazy"></p>
<p>æ³¨æ„ï¼šä¸ºäº†å¯¹aè¿›è¡Œå­ç±»åŒ–UIGestureRecognizerï¼Œæ‚¨éœ€è¦åœ¨æ–‡ä»¶é¡¶éƒ¨åŒ…å«æ­¤å¯¼å…¥ï¼š</p>
<pre><code>import UIKit.UIGestureRecognizerSubclass
</code></pre>
<h4 id="æ­¥éª¤5ä½¿ç”¨å¹³ç§»é€Ÿåº¦åè½¬åŠ¨ç”»">æ­¥éª¤ï¼ƒ5ï¼šä½¿ç”¨å¹³ç§»é€Ÿåº¦åè½¬åŠ¨ç”»ã€‚</h4>
<p>å‰©ä¸‹çš„ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œå¼¹å‡ºçª—å£ä¸è€ƒè™‘è§†å›¾çš„â€œæŠ›å‡ºâ€æ–¹å¼ã€‚å¦‚æœæˆ‘ä»¬ç‚¹å‡»å…³é—­çš„å¼¹å‡ºçª—å£ï¼Œåœ¨åŠ¨ç”»ä¸­æœŸæ•è·å®ƒï¼Œç„¶åå‘ä¸‹æ»‘åŠ¨ï¼Œå®ƒå°†ç»§ç»­å¯¹æ‰“å¼€çš„åŠ¨ç”»è¿›è¡ŒåŠ¨ç”»å¤„ç†ã€‚</p>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥æœ‰æ¡ä»¶åœ°åè½¬åŠ¨ç”»å¸ˆã€‚è¿™å°†åŸºäºä»¥ä¸‹å‡ ä¸ªå› ç´ ï¼šå¼¹å‡ºçª—å£çš„å½“å‰çŠ¶æ€ï¼ŒåŠ¨ç”»å™¨å½“å‰æ˜¯å¦åè½¬ä»¥åŠå¹³ç§»æ‰‹åŠ¿çš„é€Ÿåº¦ã€‚</p>
<p>endedç°åœ¨ï¼Œå¹³ç§»æ‰‹åŠ¿å¤„ç†ç¨‹åºçš„æƒ…å†µå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code>let yVelocity = recognizer.velocity(in: popupView).y
let shouldClose = yVelocity &gt; 0
if yVelocity == 0 {
    transitionAnimator.continueAnimation(withTimingParameters: nil, durationFactor: 0)
    break
}
switch currentState {
case .open:
    if !shouldClose &amp;&amp; !transitionAnimator.isReversed { transitionAnimator.isReversed = !transitionAnimator.isReversed }
    if shouldClose &amp;&amp; transitionAnimator.isReversed { transitionAnimator.isReversed = !transitionAnimator.isReversed }
case .closed:
    if shouldClose &amp;&amp; !transitionAnimator.isReversed { transitionAnimator.isReversed = !transitionAnimator.isReversed }
    if !shouldClose &amp;&amp; transitionAnimator.isReversed { transitionAnimator.isReversed = !transitionAnimator.isReversed }
}
transitionAnimator.continueAnimation(withTimingParameters: nil, durationFactor: 0)
</code></pre>
<p>è¿™ç§é€»è¾‘ä¹ä¸€çœ‹ä¼¼ä¹å¾ˆå¤æ‚ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡è€ƒè™‘æ‰€æœ‰å¯èƒ½çš„æƒ…å†µæ¥å¾—å‡ºã€‚</p>
<p>åœ¨å¹³ç§»æ‰‹åŠ¿å¤„ç†ç¨‹åºå‘ç”Ÿæ›´æ”¹çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦å°Šé‡isReversedåŠ¨ç”»è®¾è®¡å™¨çš„å±æ€§ï¼š</p>
<pre><code>let translation = recognizer.translation(in: popupView)
var fraction = -translation.y / popupOffset
if currentState == .open { fraction *= -1 }
if transitionAnimator.isReversed { fraction *= -1 }
transitionAnimator.fractionComplete = fraction + animationProgress
</code></pre>
<p>ç°åœ¨æˆ‘ä»¬çš„åŠ¨ç”»å¯ä»¥åè½¬äº†ï¼å¦‚æœç”¨æˆ·å¸Œæœ›åœ¨åŠ¨ç”»ä¸­å…³é—­å¼¹å‡ºçª—å£ï¼Œåˆ™è¿™æ ·åšå¾ˆå®¹æ˜“ç›´è§‚ã€‚<br>
<img src="https://shineyangpro.com/post-images/1603328231995.gif" alt="" loading="lazy"></p>
<h4 id="æ­¥éª¤6è®¾ç½®æ‹è§’åŠå¾„çš„åŠ¨ç”»">æ­¥éª¤ï¼ƒ6ï¼šè®¾ç½®æ‹è§’åŠå¾„çš„åŠ¨ç”»ã€‚</h4>
<p>åœ¨iOS 11ä¸­ï¼ŒCALayeræ— éœ€è®¾ç½®å³å¯è®¾ç½®åŠ¨ç”»äººç‰©çš„æ‹è§’åŠå¾„CABasicAnimationã€‚è¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥åœ¨åŠ¨ç”»å—ä¸­æ›´æ–°è§†å›¾çš„è§’åŠå¾„ï¼Œå®ƒå°±å¯ä»¥å·¥ä½œï¼</p>
<pre><code>self.popupView.layer.cornerRadius = 20
</code></pre>
<p>æˆ‘ä»¬è¿˜å¯ä»¥æŒ‡å®šåœ†è§’ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åªå¸Œæœ›å¯¹å·¦ä¸Šè§’å’Œå³ä¸Šè§’è¿›è¡Œåœ†è§’å¤„ç†ã€‚</p>
<pre><code>view.layer.maskedCorners = [.layerMaxXMinYCorner, .layerMinXMinYCorner]
</code></pre>
<p>ç°åœ¨ï¼Œé¡¶éƒ¨çš„ä¸¤ä¸ªè§’ä¸æˆ‘ä»¬çš„åŸå§‹åŠ¨ç”»ä¸€èµ·è¢«åŠ¨ç”»åŒ–ã€‚<br>
<img src="https://shineyangpro.com/post-images/1603328290623.gif" alt="" loading="lazy"></p>
<h4 id="æ­¥éª¤7ä½¿å…¶æ›´æ¼‚äº®">æ­¥éª¤ï¼ƒ7ï¼šä½¿å…¶æ›´æ¼‚äº®ï¼</h4>
<p>æˆ‘ä»¬çš„ç°è‰²å¼¹å‡ºè§†å›¾æ•ˆæœå¾ˆå¥½ï¼Œä½†å¯ä»¥è¿›è¡Œä¸€äº›è§†è§‰ä¸Šçš„æ”¹è¿›ã€‚è®©æˆ‘ä»¬æ·»åŠ èƒŒæ™¯å›¾åƒï¼Œå åŠ è§†å›¾ï¼Œæ ‡é¢˜æ ‡ç­¾ï¼Œç»†å¾®é˜´å½±å’Œä¸€äº›ç¤ºä¾‹è¯„è®ºã€‚</p>
<p>æœ¬æ•™ç¨‹å°†ä¸ä»‹ç»è¿™äº›å…¶ä»–è§†å›¾çš„å®ç°ã€‚å¦‚æœæ‚¨æƒ³äº†è§£å®ƒä»¬çš„åˆ›å»ºæ–¹å¼ï¼Œè¯·åœ¨æ–‡ç« åº•éƒ¨æŸ¥çœ‹å®Œæ•´çš„æºä»£ç ã€‚<br>
<img src="https://shineyangpro.com/post-images/1603328340742.gif" alt="" loading="lazy"></p>
<p>å¥½å¤šäº†ã€‚ ğŸ˜</p>
<h4 id="æ­¥éª¤8å¯¹æ ‡ç­¾è¿›è¡ŒåŠ¨ç”»å¤„ç†">æ­¥éª¤ï¼ƒ8ï¼šå¯¹æ ‡ç­¾è¿›è¡ŒåŠ¨ç”»å¤„ç†ã€‚</h4>
<p>å…³é—­å¼¹å‡ºçª—å£æ—¶ï¼Œâ€œå®¡é˜…â€æ ‡ç­¾çœ‹èµ·æ¥ä¸é”™ï¼Œä½†æ˜¯å½“æ‰“å¼€æ—¶ï¼Œå®ƒæ— æ³•ä»å…¶ä½™å†…å®¹ä¸­è„±é¢–è€Œå‡ºã€‚æ‰“å¼€å¼¹å‡ºçª—å£æ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›ä¸ºæ ‡ç­¾æä¾›æ›´å¤§çš„å­—ä½“å¤§å°å’Œæ›´æ·±çš„é¢œè‰²ã€‚ç”±äºæˆ‘ä»¬çš„å¼¹å‡ºçª—å£æ˜¯å®Œå…¨äº¤äº’å¼ä¸”å¯æ“¦é™¤çš„ï¼Œå› æ­¤éœ€è¦å¯¹æ ‡ç­¾è¿‡æ¸¡è¿›è¡ŒåŠ¨ç”»å¤„ç†ã€‚</p>
<p>æ²¡æœ‰å†…ç½®çš„æ–¹å¼æ¥è®¾ç½®æ ‡ç­¾çš„é¢œè‰²æˆ–å­—ä½“æ ·å¼çš„åŠ¨ç”»ã€‚æˆ‘ä»¬çš„è§£å†³æ–¹æ¡ˆæ˜¯ä¸€ä¸ªç®€å•çš„è§£å†³æ–¹æ³•ï¼šäº¤å‰æ·¡åŒ–æ ‡ç­¾ã€‚</p>
<p>ä¸ºäº†ä½¿åŠ¨ç”»å¹³æ»‘ï¼Œæˆ‘ä»¬éœ€è¦å¯¹æ¯ä¸ªæ ‡ç­¾çš„æ¯”ä¾‹å’Œå¹³ç§»è¿›è¡ŒåŠ¨ç”»å¤„ç†ï¼Œä»¥ä½¿å®ƒä»¬åœ¨åŠ¨ç”»çš„æ•´ä¸ªè¿‡ç¨‹ä¸­å®Œç¾é‡å ã€‚</p>
<p>åœ¨åŠ¨ç”»å—å†…ï¼Œæˆ‘ä»¬ä¿®æ”¹æ ‡ç­¾çš„alphaå’Œtransformï¼š</p>
<pre><code>switch state {
case .open:
    // other animations here ...
    self.closedTitleLabel.transform = CGAffineTransform(scaleX: 1.6, y: 1.6).concatenating(CGAffineTransform(translationX: 0, y: 15))
    self.openTitleLabel.transform = .identity
    self.openTitleLabel.alpha = 1
    self.closedTitleLabel.alpha = 0
case .closed:
    // other animations here ...
    self.closedTitleLabel.transform = .identity
    self.openTitleLabel.transform = CGAffineTransform(scaleX: 0.65, y: 0.65).concatenating(CGAffineTransform(translationX: 0, y: -15))
    self.openTitleLabel.alpha = 0
    self.closedTitleLabel.alpha = 1
}
</code></pre>
<p>ç°åœ¨ï¼Œæ ‡ç­¾çœ‹èµ·æ¥å°±åƒå®ƒä»¬åœ¨å½¼æ­¤å˜å½¢ä¸€æ ·ã€‚æ­£ç¡®å¯¹é½åï¼Œçœ‹èµ·æ¥åªæœ‰ä¸€ä¸ªæ ‡ç­¾ã€‚<br>
<img src="https://shineyangpro.com/post-images/1603328385283.gif" alt="" loading="lazy"></p>
<h4 id="æ­¥éª¤9é‡æ„å¤šä¸ªåŠ¨ç”»åˆ¶ä½œè€…">æ­¥éª¤ï¼ƒ9ï¼šé‡æ„å¤šä¸ªåŠ¨ç”»åˆ¶ä½œè€…ã€‚</h4>
<p>æ ‡ç­¾åŠ¨ç”»æ•ˆæœå¾ˆå¥½ï¼Œä½†æ˜¯å¯ä»¥æ”¹å–„æ—¶é—´ä»¥è¿›ä¸€æ­¥å¹³æ»‘è¿‡æ¸¡ã€‚ä¸ºäº†ä¿®æ”¹æ ‡ç­¾åŠ¨ç”»çš„æ—¶åºæ›²çº¿ï¼Œæˆ‘ä»¬éœ€è¦å…¶ä»–åŠ¨ç”»å¸ˆã€‚AUIViewPropertyAnimatoråªèƒ½æœ‰ä¸€æ¡æ—¶åºæ›²çº¿ï¼Œå› æ­¤è¦ä½¿ç”¨å¤šä¸ªæ—¶åºæ›²çº¿ï¼Œæˆ‘ä»¬éœ€è¦åè°ƒå¤šä¸ªåŠ¨ç”»åˆ¶ä½œè€…ã€‚</p>
<p>æˆ‘ä»¬éœ€è¦ç¨å¾®é‡æ„ä»£ç ä»¥æ”¯æŒä»»æ„æ•°é‡çš„åŠ¨ç”»åˆ¶ä½œè€…ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ç³»åˆ—åŠ¨ç”»å¸ˆã€‚</p>
<pre><code>private var runningAnimators = [UIViewPropertyAnimator]()
</code></pre>
<p>æ¯å½“æˆ‘ä»¬åˆ›å»ºæ–°çš„åŠ¨ç”»å¸ˆæ—¶ï¼Œæˆ‘ä»¬éƒ½ä¼šå°†å…¶æ·»åŠ åˆ°æ­£åœ¨è¿è¡Œçš„åŠ¨ç”»å¸ˆæ•°ç»„ä¸­ã€‚</p>
<pre><code>runningAnimators.append(transitionAnimator)
</code></pre>
<p>æ¯å½“åŠ¨ç”»ç»“æŸæ—¶ï¼Œæˆ‘ä»¬éƒ½ä¼šå°†å…¶ä»æ•°ç»„ä¸­åˆ é™¤ã€‚ä¸ºäº†ä½¿å…¶ä½™ä»£ç å¯ä¸å¤šä¸ªåŠ¨ç”»å¸ˆä¸€èµ·ä½¿ç”¨ï¼Œåº”ç”¨äºçš„æ‰€æœ‰å†…å®¹transitionAnimatoréƒ½å°†åº”ç”¨äºæ•´ä¸ªæ•°ç»„ã€‚</p>
<h4 id="æ­¥éª¤10ä¸ºæ ‡ç­¾alphaæ·»åŠ æ–°çš„åŠ¨ç”»å¸ˆ">æ­¥éª¤ï¼ƒ10ï¼šä¸ºæ ‡ç­¾alphaæ·»åŠ æ–°çš„åŠ¨ç”»å¸ˆã€‚</h4>
<p>å€ŸåŠ©æ–°çš„åŸºç¡€æ¶æ„ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸¤ä¸ªæ–°çš„åŠ¨ç”»å¸ˆï¼šä¸€ä¸ªä¸ºæ–°æ ‡ç­¾åˆ¶ä½œåŠ¨ç”»ï¼Œå¦ä¸€ä¸ªä¸ºæ—§æ ‡ç­¾åˆ¶ä½œåŠ¨ç”»ã€‚ä½¿ç”¨å¤šä¸ªåŠ¨ç”»åˆ¶ä½œè€…çš„å¥½å¤„æ˜¯æ¯ä¸ªåŠ¨ç”»åˆ¶ä½œè€…éƒ½æœ‰è‡ªå·±çš„æ—¶åºæ›²çº¿ã€‚</p>
<pre><code>let inTitleAnimator = UIViewPropertyAnimator(duration: duration, curve: .easeIn, animations: {
    switch state {
    case .open:
        self.openTitleLabel.alpha = 1
    case .closed:
        self.closedTitleLabel.alpha = 1
    }
})
inTitleAnimator.scrubsLinearly = false
</code></pre>
<p>æˆ‘ä»¬å°†åŠ¨ç”»å¸ˆçš„scrubsLinearlyå±æ€§è®¾ç½®ä¸ºfalseï¼Œä»¥ä¾¿fractionCompleteåŠ¨ç”»çš„æ˜ å°„åˆ°ç¼“åŠ¨æ—¶åºæ›²çº¿ï¼Œè€Œä¸æ˜¯çº¿æ€§æ—¶åºæ›²çº¿ã€‚é€šå¸¸ï¼Œè·Ÿéšç”¨æˆ·æ‰‹æŒ‡çš„åŠ¨ç”»åº”éµå¾ªçº¿æ€§æ—¶åºæ›²çº¿ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæ­¤å±æ€§é»˜è®¤ä¸ºtrueçš„åŸå› ã€‚</p>
<p>ï¼ˆæ³¨æ„ï¼šscrubsLinearlyä»…åœ¨iOS 11+ä¸Šå¯ç”¨ï¼‰</p>
<p>ä¸¤è€…ä¹‹é—´çš„å·®å¼‚å¾ˆå°ï¼Œä½†å¯ä»¥åœ¨ä»¥åè¿›ä¸€æ­¥è‡ªå®šä¹‰åŠ¨ç”»ã€‚å½“ç”¨æˆ·å®Œå…¨æ§åˆ¶åŠ¨ç”»å¹¶å¯ä»¥å°†å…¶æ‹–åˆ°ä»»ä½•ä½ç½®æ—¶ï¼Œæ­£ç¡®å®ç°æ­¤è¿‡æ¸¡éå¸¸é‡è¦ã€‚</p>
<p>è¿™æ˜¯æˆ‘ä»¬çš„æœ€ç»ˆåŠ¨ç”»ï¼ç”¨æˆ·å¯ä»¥é€šè¿‡è½»å‡»æˆ–æ»‘åŠ¨å¼€å§‹åŠ¨ç”»ï¼Œå¯ä»¥ä¸­æ–­åŠ¨ç”»ï¼Œå¹¶å¯ä»¥åè½¬åŠ¨ç”»ã€‚ç›¸å½“å°‘é‡çš„ä»£ç ï¼Œå¾ˆé…·ã€‚</p>
<h4 id="ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨uiviewpropertyanimator">ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨UIViewPropertyAnimatorï¼Ÿ</h4>
<p>iOSä¸­æœ‰å¦‚æ­¤ä¼—å¤šçš„åŠ¨ç”»APIï¼Œä»€ä¹ˆæ—¶å€™æœ€å¥½ä½¿ç”¨UIViewPropertyAnimatorï¼Ÿ</p>
<p>å·®å¼‚æ˜¯å¯ä¸­æ–­æ€§ã€‚å¦‚æœè¦åœ¨é£è¡Œè¿‡ç¨‹ä¸­â€œæ•æ‰â€è§†å›¾ï¼Œè¿›è¡Œæ“¦æ´—ï¼Œç„¶åç»§ç»­æˆ–åè½¬åŠ¨ç”»ï¼ŒUIViewPropertyAnimatoråˆ™æ˜¯æœ€ä½³é€‰æ‹©ã€‚å…¶ä»–ä¸€äº›åŠ¨ç”»ç­–ç•¥æ˜¯å¯ä¸­æ–­çš„ï¼Œä¾‹å¦‚åœ¨æ»šåŠ¨è§†å›¾çš„contentOffsetå±æ€§æ—è¾¹è®¾ç½®è§†å›¾åŠ¨ç”»ï¼Œä½†è¿™äº›åŠ¨ç”»ä»…é™äºæ»šåŠ¨è§†å›¾çš„æ—¶åºæ›²çº¿ã€‚</p>
<p>æœ‰æ—¶ï¼ŒåŠ¨ç”»å¯ä¸­æ–­æ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚ä»…å½“ç”¨æˆ·å¯ä»¥åœ¨åŠ¨ç”»è¿‡ç¨‹ä¸­ç‚¹å‡»è§†å›¾æ—¶ï¼Œæ‰ä½¿åŠ¨ç”»å¯ä¸­æ–­ã€‚åŠ¨ç”»åº”å…·æœ‰è¶³å¤Ÿé•¿çš„æŒç»­æ—¶é—´ï¼Œä»¥ä½¿ç”¨æˆ·å¯ä»¥è¶³å¤Ÿå¿«åœ°åšå‡ºååº”ä»¥ç‚¹å‡»å®ƒï¼Œè€ŒåŠ¨ç”»è§†å›¾åº”å…·æœ‰è¾ƒå¤§çš„ç‚¹å‡»ç›®æ ‡ã€‚ä¸Šé¢çš„å¼¹å‡ºåŠ¨ç”»æ˜¯æ»¡è¶³è¿™äº›è¦æ±‚çš„å®Œç¾ç¤ºä¾‹ã€‚</p>
<h2 id="é“¾æ¥ä¸èµ„æº">é“¾æ¥ä¸èµ„æº</h2>
<p>å®Œæ•´çš„æºä»£ç å¯åœ¨GitHubä¸Šæ‰¾åˆ°ï¼š<a href="https://github.com/nathangitter/interactive-animations">ç‚¹æˆ‘ä¼ é€</a></p>

                </div>
            </article>
        </div>

        
            <div class="next-post">
                <div class="next gt-c-content-color-first">ä¸‹ä¸€ç¯‡</div>
                <a href="https://shineyangpro.com/thinkphp50-lu-jing-zhong-qu-chu-indexphp-ru-kou-wen-jian-fang-shi/" class="post-title gt-a-link">
                    ThinkPHP5.0è·¯å¾„ä¸­å»é™¤index.phpå…¥å£æ–‡ä»¶æ–¹å¼
                </a>
            </div>
        

        

        
            
                <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css">
<script src="https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.js"></script>
<script>
    // md5.min.js
    !function(n){
        "use strict";
        function d(n,t){var r=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(r>>16)<<16|65535&r}
        function f(n,t,r,e,o,u){return d((c=d(d(t,n),d(e,u)))<<(f=o)|c>>>32-f,r);var c,f}
        function l(n,t,r,e,o,u,c){return f(t&r|~t&e,n,t,o,u,c)}
        function v(n,t,r,e,o,u,c){return f(t&e|r&~e,n,t,o,u,c)}
        function g(n,t,r,e,o,u,c){return f(t^r^e,n,t,o,u,c)}
        function m(n,t,r,e,o,u,c){return f(r^(t|~e),n,t,o,u,c)}
        function i(n,t){var r,e,o,u,c;n[t>>5]|=128<<t%32,n[14+(t+64>>>9<<4)]=t;var f=1732584193,i=-271733879,a=-1732584194,h=271733878;for(r=0;r<n.length;r+=16)f=l(e=f,o=i,u=a,c=h,n[r],7,-680876936),h=l(h,f,i,a,n[r+1],12,-389564586),a=l(a,h,f,i,n[r+2],17,606105819),i=l(i,a,h,f,n[r+3],22,-1044525330),f=l(f,i,a,h,n[r+4],7,-176418897),h=l(h,f,i,a,n[r+5],12,1200080426),a=l(a,h,f,i,n[r+6],17,-1473231341),i=l(i,a,h,f,n[r+7],22,-45705983),f=l(f,i,a,h,n[r+8],7,1770035416),h=l(h,f,i,a,n[r+9],12,-1958414417),a=l(a,h,f,i,n[r+10],17,-42063),i=l(i,a,h,f,n[r+11],22,-1990404162),f=l(f,i,a,h,n[r+12],7,1804603682),h=l(h,f,i,a,n[r+13],12,-40341101),a=l(a,h,f,i,n[r+14],17,-1502002290),f=v(f,i=l(i,a,h,f,n[r+15],22,1236535329),a,h,n[r+1],5,-165796510),h=v(h,f,i,a,n[r+6],9,-1069501632),a=v(a,h,f,i,n[r+11],14,643717713),i=v(i,a,h,f,n[r],20,-373897302),f=v(f,i,a,h,n[r+5],5,-701558691),h=v(h,f,i,a,n[r+10],9,38016083),a=v(a,h,f,i,n[r+15],14,-660478335),i=v(i,a,h,f,n[r+4],20,-405537848),f=v(f,i,a,h,n[r+9],5,568446438),h=v(h,f,i,a,n[r+14],9,-1019803690),a=v(a,h,f,i,n[r+3],14,-187363961),i=v(i,a,h,f,n[r+8],20,1163531501),f=v(f,i,a,h,n[r+13],5,-1444681467),h=v(h,f,i,a,n[r+2],9,-51403784),a=v(a,h,f,i,n[r+7],14,1735328473),f=g(f,i=v(i,a,h,f,n[r+12],20,-1926607734),a,h,n[r+5],4,-378558),h=g(h,f,i,a,n[r+8],11,-2022574463),a=g(a,h,f,i,n[r+11],16,1839030562),i=g(i,a,h,f,n[r+14],23,-35309556),f=g(f,i,a,h,n[r+1],4,-1530992060),h=g(h,f,i,a,n[r+4],11,1272893353),a=g(a,h,f,i,n[r+7],16,-155497632),i=g(i,a,h,f,n[r+10],23,-1094730640),f=g(f,i,a,h,n[r+13],4,681279174),h=g(h,f,i,a,n[r],11,-358537222),a=g(a,h,f,i,n[r+3],16,-722521979),i=g(i,a,h,f,n[r+6],23,76029189),f=g(f,i,a,h,n[r+9],4,-640364487),h=g(h,f,i,a,n[r+12],11,-421815835),a=g(a,h,f,i,n[r+15],16,530742520),f=m(f,i=g(i,a,h,f,n[r+2],23,-995338651),a,h,n[r],6,-198630844),h=m(h,f,i,a,n[r+7],10,1126891415),a=m(a,h,f,i,n[r+14],15,-1416354905),i=m(i,a,h,f,n[r+5],21,-57434055),f=m(f,i,a,h,n[r+12],6,1700485571),h=m(h,f,i,a,n[r+3],10,-1894986606),a=m(a,h,f,i,n[r+10],15,-1051523),i=m(i,a,h,f,n[r+1],21,-2054922799),f=m(f,i,a,h,n[r+8],6,1873313359),h=m(h,f,i,a,n[r+15],10,-30611744),a=m(a,h,f,i,n[r+6],15,-1560198380),i=m(i,a,h,f,n[r+13],21,1309151649),f=m(f,i,a,h,n[r+4],6,-145523070),h=m(h,f,i,a,n[r+11],10,-1120210379),a=m(a,h,f,i,n[r+2],15,718787259),i=m(i,a,h,f,n[r+9],21,-343485551),f=d(f,e),i=d(i,o),a=d(a,u),h=d(h,c);return[f,i,a,h]}
        function a(n){var t,r="",e=32*n.length;for(t=0;t<e;t+=8)r+=String.fromCharCode(n[t>>5]>>>t%32&255);return r}
        function h(n){var t,r=[];for(r[(n.length>>2)-1]=void 0,t=0;t<r.length;t+=1)r[t]=0;var e=8*n.length;for(t=0;t<e;t+=8)r[t>>5]|=(255&n.charCodeAt(t/8))<<t%32;return r}
        function e(n){var t,r,e="0123456789abcdef",o="";for(r=0;r<n.length;r+=1)t=n.charCodeAt(r),o+=e.charAt(t>>>4&15)+e.charAt(15&t);return o}
        function r(n){return unescape(encodeURIComponent(n))}
        function o(n){return a(i(h(t=r(n)),8*t.length));var t}
        function u(n,t){return function(n,t){var r,e,o=h(n),u=[],c=[];for(u[15]=c[15]=void 0,16<o.length&&(o=i(o,8*n.length)),r=0;r<16;r+=1)u[r]=909522486^o[r],c[r]=1549556828^o[r];return e=i(u.concat(h(t)),512+8*t.length),a(i(c.concat(e),640))}(r(n),r(t))}
        function t(n,t,r){return t?r?u(t,n):e(u(t,n)):r?o(n):e(o(n))}
        "function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof module&&module.exports?module.exports=t:n.md5=t;
    }(this);
</script>


<div id="gitalk-container"></div>

<script>

  var gitalk = new Gitalk({
    clientID: '195888eb6f21583b91e3',
    clientSecret: '7b8d5bd89ce3c23d844751f2cec4e8eb92411d0c',
    repo: 'ShineYangGod.github.io',
    owner: 'ShineYangGod',
    admin: ['ShineYangGod'],
    id: md5(location.pathname),      // Ensure uniqueness and length less than 50
    distractionFreeMode: false       // Facebook-like distraction free mode
  })

  gitalk.render('gitalk-container')

</script>

            

            
        

        

        <div class="site-footer gt-c-content-color-first">
    <div class="slogan gt-c-content-color-first"><i>the purpose of living is to change the world<i></div>
    <div class="social-container">
        
            
                <a href="https://github.com/ShineYangGod" target="_blank">
                    <i class="fab fa-github gt-c-content-color-first"></i>
                </a>
            
        
            
        
            
        
            
        
            
        
            
        
    </div>
    <div class="footer-info">
        Copyright 2020 &copy <a href="https://twitter.com/mei_samson" target="_blank">
<span style="color:blue">ShineYang</span></a><br><br>
    </div>
    <div>
        Theme by <a href="https://imhanjie.com/" target="_blank">imhanjie</a>, Powered by <a
                href="https://github.com/getgridea/gridea" target="_blank">Gridea | <a href="https://shineyangpro.com/atom.xml" target="_blank">RSS</a></a>
    </div>
</div>

<script>
  hljs.initHighlightingOnLoad()
</script>

    </div>
</div>
</body>
</html>
